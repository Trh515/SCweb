
@{
    Layout = null;
}

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" charset="utf-8" />

    <title>供应商</title>
    <link href="/skins/base/common.css" rel="stylesheet" />
    <link href="/skins/Factory/960.css" rel="stylesheet" />
    <link href="/skins/Factory/myTheme.css" rel="stylesheet" />
    <link href="/skins/Factory/defaultTheme.css" rel="stylesheet" />
    <link href="/assets/css/ace-fonts.css" rel="stylesheet" />
    @*<link href="/assets/css/ace.min.css" rel="stylesheet" />*@
    <link href="/assets/css/font-awesome.min.css" rel="stylesheet" />

    <script src="/Scripts/jquery-1.9.1.min.js"></script>
    <script src="/layer/layer.js"></script>
    <style>
        /*.fht-thead {
             width: calc(100% - 1.4em);
           }*/
    </style>
</head>

<body>
    <script type="text/javascript">

        function xiugai(obj) {

            var table_yj = $(".table_yj");

            var frl_span = $(".frl_span");
            if (frl_span.next("span").hasClass("table_yj_show")) {

                table_yj.find(frl_span).next("span").removeClass("table_yj_show");
                frl_span.show();
                table_yj.find(frl_span).next("span").hide();
                EditOpinion();
            } else {
                table_yj.find(frl_span).next("span").addClass("table_yj_show");
                frl_span.hide();
                var sss = $(".table_yj_show").find(".frl_select");
                $(".table_yj_show").show();
                GetDDLOP();
            }


        }

    </script>
    <div class="sswin">
        <table class="sswin_table">
            <tr>
                <td class="sswin_td1"><label class="bg_tit">   <span class="sspa">季节:</span></label></td>
                <td class="sswin_td2 search_div_xiala">
                    <div class="xuanz">
                        <span class="xuanz_span" lieName="季节" values="">请选择 <i class="xuanz_i"></i></span>
                        <ul class="xuanz_ul xuanz_ul1" style="display:none;">
                            <li><a values="">请选择 </a></li>
                            <li><a values="春">春</a></li>
                            <li><a values="夏">夏</a></li>
                            <li><a values="秋">秋</a></li>
                            <li><a values="冬">冬</a></li>
                        </ul>
                    </div>
                </td>
                <td class="sswin_td1"><label class="bg_tit"> <span class="sspa">波段:</span></label></td>
                <td class="sswin_td2 search_div_xiala">
                    <div class="xuanz">
                        <span class="xuanz_span" lieName="波段" values="">请选择 <i class="xuanz_i"></i></span>
                        <ul class="xuanz_ul" style="display:none;">
                            <li><a values="">请选择</a></li>
                            <li><a values='未定义'>未定义</a> </li>
                            <li><a values='初春'>初春</a></li>
                            <li><a values='春一'>春一</a></li>
                            <li><a values='春二'>春二</a></li>
                            <li><a values='春三'>春三</a></li>
                            <li><a values='春四'>春四</a></li>
                            <li><a values='春五'>春五</a></li>
                            <li><a values='春补'>春补</a></li>
                            <li><a values='夏一'>夏一</a></li>
                            <li><a values='夏二'>夏二</a></li>
                            <li><a values='夏三'>夏三</a></li>
                            <li><a values='夏四'>夏四</a></li>
                            <li><a values='夏五'>夏五</a></li>
                            <li><a values='夏六'>夏六</a></li>
                            <li><a values='夏七'>夏七</a></li>
                            <li><a values='夏八'>夏八</a></li>
                            <li><a values='夏九'>夏九</a></li>
                            <li><a values='夏补'>夏补</a></li>
                            <li><a values='秋一'>秋一</a></li>
                            <li><a values='秋二'>秋二</a></li>
                            <li><a values='秋三'>秋三</a></li>
                            <li><a values='秋四'>秋四</a></li>
                            <li><a values='秋五'>秋五</a></li>
                            <li><a values='秋六'>秋六</a></li>
                            <li><a values='秋七'>秋七</a></li>
                            <li><a values='秋补'>秋补</a></li>
                            <li><a values='冬一'>冬一</a></li>
                            <li><a values='冬二'>冬二</a></li>
                            <li><a values='冬三'>冬三</a></li>
                            <li><a values='冬四'>冬四</a></li>
                            <li><a values='冬五'>冬五</a></li>
                            <li><a values='冬六'>冬六</a></li>
                            <li><a values='冬七'>冬七</a></li>
                            <li><a values='冬补'>冬补</a></li>
                        </ul>
                    </div>
                </td>

                <td class="sswin_td1"><label class="bg_tit"><span class="sspa">品牌:</span></label></td>
                <td class="sswin_td2 search_div_xiala">
                    <div class="xuanz">
                        <span class="xuanz_span" lieName="品牌" values="">请选择 <i class="xuanz_i"></i></span>
                        <ul class="xuanz_ul xuanz_ul1" style="display:none;">
                            <li><a values="">请选择 </a></li>
                            <li><a values="BB">Banana Baby</a></li>
                            <li><a values="CC">Banana CiCi</a></li>
                            <li><a values="KIDS">Banana Kids</a></li>
                        </ul>
                    </div>
                </td>
                <td class="sswin_td1"><label class="bg_tit jind_bg">  <span class="sspa">加工方式:</span></label></td>
                <td class="sswin_td2 search_div_xiala">
                    <div class="xuanz jind">
                        <span class="xuanz_span" lieName="加工方式" values="">请选择 <i class="xuanz_i"></i></span>
                        <ul class="xuanz_ul xuanz_ul1" style="display:none;">
                            <li><a values="">请选择</a></li>
                            <li><a values="CMT">CMT</a></li>
                            <li><a values="FOB">FOB</a></li>
                        </ul>

                    </div>
                </td>
                <td class="sswin_td3">
                    <div onclick="GetMoneyIndexTbody(1, '查询')" class="so_btn f_csp f_fl"></div>
                </td>
            </tr>
        </table>
    </div>
    <div class="col_main">
        <div class="container_12">
            <div class="grid_8 height250">
                <table id="myTable01" class="fancyTable" cellpadding="0" cellspacing="0">
                    <thead>
                        <tr>
                            <th><span>异常单号</span></th>
                            <th><span>品牌</span></th>
                            <th><span>加工方式</span></th>
                            <th><span>季节</span></th>
                            <th><span>波段</span></th>
                            <th><span>款号</span></th>
                            <th><span>颜色</span></th>
                            <th><span>尺码</span></th>
                            <th><span>生产厂家</span></th>
                            <th><span>商品要求</span></th>
                            <th><span>合同签订</span></th>
                            <th><span>下单生产量</span></th>
                            <th><span>生产下单量</span></th>
                            <th><span>实裁数量</span></th>
                            <th><span>正确出货数</span></th>
                            <th><span>异常情况说明</span></th>
                        </tr>
                        <tr class="inputTr2">
                            <th values="异常单号"><input type="text" name="name" value="" lieName="异常单号" onchange="Burr()" /></th>
                            <th values="品牌"><input type="text" name="name" lieName="品牌" onchange="Burr()" /></th>
                            <th values="加工方式"><input type="text" name="name" value="" lieName="加工方式" onchange="Burr()" /></th>
                            <th values="季节"><input type="text" name="name" value="" lieName="季节" onchange="Burr()" /></th>
                            <th values="波段"><input type="text" name="name" value="" lieName="波段" onchange="Burr()" /></th>
                            <th values="款号"><input type="text" name="name" value="" lieName="款号" onchange="Burr()" /></th>
                            <th values="颜色"><input type="text" name="name" value="" lieName="颜色" onchange="Burr()" /></th>
                            <th values="尺码"><input type="text" name="name" value="" lieName="尺码" onchange="Burr()" /></th>
                            <th values="生产厂家"><input type="text" name="name" value="" lieName="生产厂家" onchange="Burr()" /></th>
                            <th values="商品要求"><input type="text" name="name" value="" lieName="商品要求" onchange="Burr()" /></th>
                            <th values="合同签订"><input type="text" name="name" value="" lieName="合同签订" onchange="Burr()" /></th>
                            <th values="下单生产量"><input type="text" name="name" value="" lieName="下单生产量" onchange="Burr()" /></th>
                            <th values="生产下单量"><input type="text" name="name" value="" lieName="生产下单量" onchange="Burr()" /></th>
                            <th values="实裁数量"><input type="text" name="name" value="" lieName="实裁数量" onchange="Burr()" /></th>
                            <th values="正确出货数"><input type="text" name="name" value="" lieName="正确出货数" onchange="Burr()" /></th>
                            <th values="异常情况说明"><input type="text" name="name" value="" lieName="异常情况说明" onchange="Burr()" /></th>
                        </tr>
                    </thead>
                    <tbody id="dbMoneyIndex">@*此处前台循环导入表格*@</tbody>
                </table>
            </div>

        </div>
        <!-- 列表分页 开始 -->
        <div class="nsw_tools_bar f_cb">
            <div class="nsw_pagination f_fr f_mr20 f_cb">

                <span class="p_numb f_fl">显示数量</span>
                <select class="pageList_btn" id="pageList_btn" onchange="ShowPageCount(this, '异常管理')">
                    <option value="16" selected="selected">16</option>
                    <option value="32">32</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                </select>

            </div>
            <div class="nsw_pagination f_fr f_mr20 f_cb">

                <span class="p_numb f_fl">共<span id="rowsCount">0</span>条&nbsp;|&nbsp;第<span id="page">0</span>/<span id="pageCount">0</span>页</span>
                @*<select class="pageList_btn" id="pageOP"></select>*@
                <div class="pageDown_btn f_fr">
                    <span class="p_prev  disable " onclick="BackPageUpper(this, '异常管理')" title="上一页"></span>
                    <span class="p_next  disable " onclick="BackPageLower(this, '异常管理')" title="下一页"></span>
                </div>
            </div>
        </div>
        <!-- 列表分页 结束 -->
    </div>
    <script src="/js/Factory/jquery.fixedheadertable01.js"></script>
    <script src="/Scripts/Tian_Js.js"></script>
    <script type="text/javascript">
        (function ($) {
            // 看过jquery源码就可以发现$.fn就是$.prototype, 只是为了兼容早期版本的插件
            // 才保留了jQuery.prototype这个形式
            $.fn.mergeCell = function (options) {
                return this.each(function () {
                    var cols = options.cols;
                    for (var i = cols.length - 1; cols[i] != undefined; i--) {
                        // fixbug console调试
                        // console.debug(cols[i]);
                        mergeCell($(this), cols[i]);
                    }
                    dispose($(this));
                });
            };
            // 如果对javascript的closure和scope概念比较清楚, 这是个插件内部使用的private方法
            // 具体可以参考本人前一篇随笔里介绍的那本书
            function mergeCell($table, colIndex) {

                $table.data('col-content', ''); // 存放单元格内容
                $table.data('col-rowspan', 1);  // 存放计算的rowspan值  默认为1
                $table.data('col-td', $());     // 存放发现的第一个与前一行比较结果不同td(jQuery封装过的), 默认一个"空"的jquery对象
                $table.data('trNum', $('tbody tr', $table).length); // 要处理表格的总行数, 用于最后一行做特殊处理时进行判断之用

                // 我们对每一行数据进行"扫面"处理 关键是定位col-td, 和其对应的rowspan
                $('tbody tr', $table).each(function (index) {
                    // td:eq中的colIndex即列索引
                    var $td = $('td:eq(' + colIndex + ')', this);

                    // 取出单元格的当前内容
                    var currentContent = $td.html();

                    // 第一次时走此分支
                    if ($table.data('col-content') == '') {

                        $table.data('col-content', currentContent);
                        $table.data('col-td', $td);

                    } else {
                        // 上一行与当前行内容相同
                        if ($table.data('col-content') == currentContent) {
                            // 上一行与当前行内容相同则col-rowspan累加, 保存新值
                            var rowspan = $table.data('col-rowspan') + 1;
                            $table.data('col-rowspan', rowspan);
                            // 值得注意的是  如果用了$td.remove()就会对其他列的处理造成影响
                            $td.hide();

                            // 最后一行的情况比较特殊一点
                            // 比如最后2行 td中的内容是一样的, 那么到最后一行就应该把此时的col-td里保存的td设置rowspan
                            if (++index == $table.data('trNum'))
                                $table.data('col-td').attr('rowspan', $table.data('col-rowspan'));

                        } else { // 上一行与当前行内容不同
                            // col-rowspan默认为1, 如果统计出的col-rowspan没有变化, 不处理
                            if ($table.data('col-rowspan') != 1) {
                                $table.data('col-td').attr('rowspan', $table.data('col-rowspan'));
                            }
                            // 保存第一次出现不同内容的td, 和其内容, 重置col-rowspan
                            $table.data('col-td', $td);
                            $table.data('col-content', $td.html());
                            $table.data('col-rowspan', 1);
                        }
                    }
                });
            }

            // 同样是个private函数  清理内存之用
            function dispose($table) {
                $table.removeData();
            }
        })(jQuery);

        GetMoneyIndexTbody(1, '查询');
        //条件的循环  MoneyIndex
        function GetSelectCount() {
            var where = "";
            $(".sswin_table").find(".search_div_xiala").each(function () {
                if ($(this).find("span").attr("values") != "")
                    where += $(this).find("span").attr("lieName") + "|" + $(this).find("span").attr("values") + ",";
            });
            console.log(where);

            $(".inputTr2").find("th").each(function () {
                if($(this).find("input").val()!="")
                    where += $(this).find("input").attr("lieName") + "|" + $(this).find("input").val() + ",";

            });
            if (where != "")
                where = where.substring(0, where.length - 1);
            return where;
        }

        function Burr() {
            GetMoneyIndexTbody(1, '查询');
        }
    </script>
    
    @*<script src="/js/Factory/demo.js"></script>*@
    @*<script src="/assets/js/ace.min.js"></script>*@
    @*<script src="/assets/js/ace-extra.min.js"></script>*@
    <script src="/assets/js/ace-elements.min.js"></script>
    <script type="text/javascript">
        //var interval = setInterval(function () {
        //    clearInterval(interval);
        //}, 3000);
        var mywid = $("#myTable01").width();
        $(".fht-table-wrapper .fht-thead").css("width", mywid);
    </script>
    
    
</body>
</html>

